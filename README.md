# aliases

A is a tool for resolving command dependencies with containers.

* YAML-based command definition
* Version of command with environment variable

## Install

```
$ go get github.com/k-kinzal/aliases
```

## Get Started

**~/.aliases/aliases.yaml**

```
/usr/local/bin/kubectl:
  image: chatwork/kubectl
  tag: 1.11.2
  interactive: true
  network: host
  volume:
  - $HOME/.kube:/root/.kube
```

```
$ eval $(aliases gen)
```

## CLI

```
$ aliases --help
NAME:
   aliases - Generate alias for command on container

USAGE:
   aliases [global options] command [command options] [arguments...]

VERSION:
   0.0.0

COMMANDS:
     generate, gen  Generate aliases
     help, h        Shows a list of commands or help for one command

GLOBAL OPTIONS:
   --config FILE, -c FILE  Load configuration from FILE
   --help, -h              show help
   --version, -v           print the version
```

## Version Environment variable

If `/usr/local/bin/kubectl` is defined, you can specify the version in the environment variable with `_VERSION` in the suffix with `kubectl` in the file name capitalized.

```
$ KUBECTL_VERSION=1.11.3 kubectl get all
```

When version environment variable is specified, command is executed by overwriting `tag` defined by YAML.


## Expand Environment Variable

```
env:
  $ENV1: $ENV2
```

```
volume:
- $ENV1:$ENV2:rw
```


Environmental variables are expanded with parameters expressed like this.
`Env1` expands at the timing when aliases generates a command.
`Env2` expands at the timing when you call the command generated by aliases.

